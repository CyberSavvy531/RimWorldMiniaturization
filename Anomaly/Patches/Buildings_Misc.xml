<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<!-- Anomaly\Defs\ThingDefs_Buildings\Buildings_Misc.xml -->

	<!-- AtmosphericHeater -->

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]/minifiedDef</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]</xpath>
			<value>
				<minifiedDef>MinifiedThing</minifiedDef>
			</value>
		</nomatch>
	</Operation>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]/thingCategories</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]</xpath>
			<value>
				<thingCategories>
					<li>BuildingsTemperature</li>
				</thingCategories>
			</value>
		</nomatch>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]/thingCategories</xpath>
			<value>
				<li>BuildingsTemperature</li>
			</value>
		</match>
	</Operation>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]/statBases/Mass</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]/statBases</xpath>
			<value>
				<Mass>80</Mass>
			</value>
		</nomatch>
	</Operation>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]/stealable</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "AtmosphericHeater"]</xpath>
			<value>
				<stealable>false</stealable>
			</value>
		</nomatch>
	</Operation>

	<!-- GrayDoor -->

	<!--
	GrayDoor is a special door apart of Anomaly labyrinth events that inherits from the Door def instead of DoorBase.
	It should not be minifiable, so these operations null out the associated nodes for that def.
	-->

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "GrayDoor"]/minifiedDef</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "GrayDoor"]</xpath>
			<value>
				<minifiedDef IsNull="True"/>
			</value>
		</nomatch>
		<match Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName = "GrayDoor"]/minifiedDef</xpath>
			<value>
				<minifiedDef IsNull="True"/>
			</value>
		</match>
	</Operation>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "GrayDoor"]/thingCategories</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "GrayDoor"]</xpath>
			<value>
				<thingCategories IsNull="True"/>
			</value>
		</nomatch>
		<match Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName = "GrayDoor"]/thingCategories</xpath>
			<value>
				<thingCategories IsNull="True"/>
			</value>
		</match>
	</Operation>

	<!-- SecurityDoor -->

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName = "SecurityDoor"]/statBases/Mass</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "SecurityDoor"]/statBases</xpath>
			<value>
				<Mass>15</Mass>
			</value>
		</nomatch>
	</Operation>

</Patch>